A quick simple benchmark of pthread main primitives.

Random references:

Run on (8 X 4201 MHz CPU s)
CPU Caches:
  L1 Data 32 KiB (x4)
  L1 Instruction 32 KiB (x4)
  L2 Unified 256 KiB (x4)
  L3 Unified 8192 KiB (x1)
Load Average: 0.30, 0.23, 0.19
***WARNING*** CPU scaling is enabled, the benchmark real time measurements may be noisy and will incur extra overhead.
--------------------------------------------------------------------------
Benchmark                                Time             CPU   Iterations
--------------------------------------------------------------------------
BM_pthread_self                       1.38 ns         1.38 ns    507239162
BM_pthread_spinlock                   6.02 ns         6.02 ns    116185922
BM_pthread_mutex                      5.56 ns         5.55 ns    125502089
BM_pthread_mutex_recursive            6.54 ns         6.54 ns    104428316
BM_pthread_mutex_recursive_self       5.86 ns         5.86 ns    119402810


[dynamic linkage with 1.6.1]
Run on (96 X 3002.34 MHz CPU s)
CPU Caches:
  L1 Data 48 KiB (x48)
  L1 Instruction 32 KiB (x48)
  L2 Unified 1280 KiB (x48)
  L3 Unified 36864 KiB (x2)
Load Average: 0.13, 0.14, 0.09
--------------------------------------------------------------------------
Benchmark                                Time             CPU   Iterations
--------------------------------------------------------------------------
BM_pthread_self                       1.78 ns         1.78 ns    392234793
BM_pthread_spinlock                   7.69 ns         7.69 ns     90737711
BM_pthread_mutex                      6.42 ns         6.42 ns    110226014
BM_pthread_mutex_recursive            9.36 ns         9.36 ns     74795829
BM_pthread_mutex_recursive_self       9.71 ns         9.71 ns     72209515


[static linkage with 1.8.3]
Run on (96 X 3000 MHz CPU s)
CPU Caches:
  L1 Data 48 KiB (x48)
  L1 Instruction 32 KiB (x48)
  L2 Unified 1280 KiB (x48)
  L3 Unified 36864 KiB (x2)
Load Average: 0.21, 0.16, 0.10
--------------------------------------------------------------------------
Benchmark                                Time             CPU   Iterations
--------------------------------------------------------------------------
BM_pthread_self                       2.63 ns         2.63 ns    266772052
BM_pthread_spinlock                   9.36 ns         9.36 ns     74772463
BM_pthread_mutex                      6.38 ns         6.38 ns    108519616
BM_pthread_mutex_recursive            9.36 ns         9.36 ns     74775375
BM_pthread_mutex_recursive_self       9.40 ns         9.40 ns     74470121
